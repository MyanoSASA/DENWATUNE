## DENWATUNE — DTMF/ダイヤルトーン ジェネレータ

ブラウザ上で DTMF や各種電話トーンを再生できるシンプルなツールです。キーボードまたは画面のキー操作で音を鳴らせます。

### 特長
- DTMF（0-9, #, *）の二周波同時音を再生
- `*` でダイヤルトーンを再生（米国式/日本式をUIで切替）
- `/` で米国式の通話切断音（ファストビジー）を再生（480Hz+620Hz、0.25sオン/0.25sオフ）
- 「押している間だけ鳴る」「一定時間 自動で鳴る」を切替可能
- 音量や自動再生時間をスライダーで調整
- インストール不要（静的ファイルのみ）

### 使い方（クイックスタート）
1. `index.html` をブラウザで開きます（Chrome/Edge 推奨）。
2. 最初のユーザー操作（クリック/キー押下）で音声再生が許可されます。
3. 画面上のキーをクリック、またはキーボードから入力します。

### キーボード操作
- 数字・記号: `0-9`, `#`, `*` — DTMF（`*` はダイヤルトーン）
- 追加キー: `/` — 米国式通話切断音（ファストビジー）

### 画面UIの設定
- モード: 「押している間だけ鳴る」/「一定時間 自動で鳴る」
- 自動再生 長さ（ms）: 自動モード時の鳴動時間
- 音量: 全体の出力ゲイン
- ダイヤルトーン: 「米国式（350+440Hz 連続）」/「日本式（400Hz 連続）」
  - `*` を鳴らしたときの音が、選択中の方式に切り替わります

### 動作環境
- 最新版の Chrome / Edge を推奨
- ブラウザのオートプレイ規制により、初回はユーザー操作が必要です
- ローカルファイルとして直接開けます。任意でローカルサーバを使う場合は、例として `npx serve` などの静的サーバをご利用ください

### ファイル構成
- `index.html`: 画面UI
- `styles.css`: スタイル
- `app.js`: 音声エンジンと入力処理（Web Audio API）

### 実装の要点（開発者向け）
- コアクラス: `ToneEngine`
  - `getFrequenciesForKey(key)`: キー（`0-9`, `#`, `*`, `/`）に対応する周波数やケイデンスを返します
  - `setDialPreset('us'|'jp')`: `*` のダイヤルトーン方式を切り替えます
  - ケイデンス（オン/オフ繰り返し）はゲインノードで制御しています
- 入力処理
  - クリック/タッチ: キー要素の `data-key` を参照
  - キーボード: `validKeys` セットで許可キーを定義

### カスタマイズ例
- ダイヤルトーンの周波数変更: `app.js` の `getFrequenciesForKey('*')` を調整
- 通話切断音のケイデンス変更: `getFrequenciesForKey('/')` の `cadence: { onMs, offMs }` を変更
- 新しいキーを追加: `validKeys` にキーを追加し、`getFrequenciesForKey` に対応定義を追加

### 注意・免責事項
本ツールで生成される信号を公衆電話回線や事業者の設備に送信することは、契約条件や法律により禁止されている場合があります。自己責任でご利用ください。

本ソフトウェアは「現状のまま」提供されます。明示・黙示を問わずいかなる保証もありません。使用または使用不能から生じる直接・間接の損害、データ損失、業務中断、その他いかなる結果についても、開発者は一切の責任を負いません。

### ライセンス
MIT License — 詳細は `LICENSE` を参照してください。


